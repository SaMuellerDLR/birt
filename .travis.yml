language: java
os: linux
dist: xenial
jdk:
- openjdk8
cache:
  directories:
  - "~/.m2"
addons: 
ssh_known_hosts: frs.sourceforge.net
before_script:
- eval "$(ssh-agent -s)"
- mkdir -p -m 700 /tmp/.sourceforge_ssh
- openssl aes-256-cbc -K $encrypted_d2f1c71c33a2_key -iv $encrypted_d2f1c71c33a2_iv
  -in id_ed25519.enc -out /tmp/.sourceforge_ssh/id_ed25519 -d
- chmod 600 /tmp/.sourceforge_ssh/id_ed25519
- ssh-add /tmp/.sourceforge_ssh/id_ed25519
script: mvn clean package -B --global-toolchains travis-maven-toolchain.xml -DskipTests
install:
- true
before_deploy:
- |
  if [ $TRAVIS_BRANCH == "development" && $TRAVIS_PULL_REQUEST == "false" ]; then
     git tag -f development_snapshot
     git remote add github-mtd  https://${GITHUB_API_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git
     git push -f github-mtd development_snapshot
     git remote remove github-mtd
  fii
deploy:
  provider: releases
  api_key:
    secure: hluaODBN0VJT2ULhcyXo7HFiF53ajr0jg0+BtQrRmoTSuANRvL48Ke3yGtQQ33Q1XiM75Go4GpIYa7SPPvoPIlHL9n+4boxVdM5q+bq64psLVjTC7Bak2P3vqQZinZ/T7S4w19+C8Rq3yh5zVg9ZmxkZXf6Pm05U3hGLgsAVcSSpIFFzRqokiOvIgc5gfVkeyGZ4WdvcV0qnObItPnqtJwGJoGgn4Fc2IErRB9tyj5+wrb8w70U6aBupL18nbur/oV7Nf18i4M9aUnXq42rdzqYlqV3tBkL+uE/I5JBLX2yg2JtFAfJVOjQxNsaBsXNOMs0yWvOGKuGAyWtkZAPV/jQjeD+2cu6Cm7E4yzLBZJBjVHgpEyhKThI7OmmipGzjaEyUyscTnhHpQpY3kJ2TngmJvJAEPkI53C2KhPB1Ba4pKNpep0YUBsE07B8aA1EBzUnNgktKJLLhSP7V3aexKw/bWzxbnw+NWac7Gs9yPypgA7BqKzn4yN5fDqZuXWom6g3h8okxditgadcqoq7jGR9Vx6CqpoI0t+2/a0JGMBg+NHkz28TPYeGdobXilhzUeJWonHCktyJ9C9bgtbEVb9DdttIVkaPf61LZAMxGNzykVgbhxfJ4EUvGhDxn3i/By/1aFPG7sHdixFdUh5CDuLjdp+oteITCG4nkTFaqe1Y=
  file: x
  on:
    repo: SaMuellerDLR/birt
    branch: feature/task_9-Upload_BIRT_product_to_
  skip_cleanup: 'true'
